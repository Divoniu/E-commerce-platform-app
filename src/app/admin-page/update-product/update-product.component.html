<div class="card flex justify-content-center">

  <p-dialog (onHide)="onClose()" header="{{header}}" [(visible)]="visible"
            [style]="{width: '50vw'}">
    <h1 *ngIf="header=='Edit product'">{{selectedProduct.name}}</h1>
    <form [formGroup]="newProductForm" (ngSubmit)="onSubmit()">

      <div class="flex flex-column gap-2">
        <label htmlFor="title" class="block font-bold mb-2">Title</label>
        <input pInputText id="title" formControlName="name"/>
        <label class="block font-bold mb-2">Category</label>
        <p-dropdown formControlName="categoryId" optionValue="id" [options]="categoriesList" optionLabel="name"></p-dropdown>
        <label htmlFor="price" class="block font-bold mb-2">Price</label>
        <p-inputNumber [style]="{width: '100%'}" formControlName="price" inputId="currency-us" mode="currency" currency="USD"
                       locale="en-US"></p-inputNumber>
        <label htmlFor="stock" class="block font-bold mb-2">Stock</label>
        <p-inputNumber [style]="{width: '100%'}" id="stock" formControlName="stock"/>
        <label htmlFor="discount" class="block font-bold mb-2">Discount percentage</label>
        <p-inputNumber [style]="{width: '100%'}" id="discount" [min]="0" [max]="100" formControlName="discount"/>
        <label htmlFor="description" class="block font-bold mb-2">Description</label>
        <input pInputText id="description" formControlName="description"/>
        <p-fileUpload *ngIf="header=='Add new product'" mode="basic" chooseLabel="Choose" name="demo[]" url="https://www.primefaces.org/cdn/api/upload.php" accept="image/*" [maxFileSize]="1000000" (onUpload)="onUpload($event)"></p-fileUpload>
      </div>
      <p-button *ngIf="header=='Edit product'" type="submit" icon="pi pi-check" label="Update" styleClass="p-button-text"></p-button>
      <p-button *ngIf="header=='Add new product'" type="submit" icon="pi pi-check" label="Add" styleClass="p-button-text"></p-button>
      <p-button (click)="close()" icon="pi pi-times" label="Cancel" styleClass="p-button-text"></p-button>
    </form>
  </p-dialog>
</div>
