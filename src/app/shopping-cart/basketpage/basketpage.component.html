<div class="mainDiv">
<p-table [paginator]="true" [rows]="row" [rowsPerPageOptions]="rows" [value]="orderedItems"
         [tableStyle]="{ 'min-width': '50rem' }" responsiveLayout="stack" [breakpoint]="'960px'"
         [globalFilterFields]="['name']" [style]="{'margin-top': '20px'}">
  <ng-template pTemplate="header">
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Category</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-BasketModel let-index="rowIndex">
    <div *ngIf="loading" class="loading">
      <div class="spinner"></div>
    </div>
    <tr  class="item">
      <td> <img src="{{ BasketModel.productImage }}" class="product-img productImage" ></td>
      <td>{{ BasketModel.productName }} </td>
      <td>{{ BasketModel.categoryName }}</td>
      <td>
        <p-button (onClick)="decrement(BasketModel)" icon="pi pi-minus" [style]="{'width': '30px', 'height': '30px', 'border-radius': '15px'}" styleClass="my-button">
        </p-button>
        {{ BasketModel.quantity }}
        <p-button (onClick)="increment(BasketModel)"
                  [disabled]="BasketModel.quantity >= BasketModel.unitsInStock"
                  icon="pi pi-plus" [style]="{'width': '30px', 'height': '30px', 'border-radius': '15px'}" styleClass="my-button">
        </p-button>
      </td>
      <td class="itemPrice">{{ getItemPrice(BasketModel) }} $</td>
      <td>
        <p-button icon="pi pi-trash" (click)="deleteProduct(BasketModel, $event)"></p-button>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="footer">
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td><strong>Total:</strong></td>
      <td><strong>${{ getTotalPrice() }}</strong></td>
      <td>
        <div class="checkout-button">
          <p-button type="button" label="Checkout" (click)="checkout()" [disabled]="orderedItems.length < 1 "></p-button>
        </div>

      </td>
    </tr>
  </ng-template>
</p-table>
</div>

